<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Pre-built ROOT binaries optimized for Google Colab environments. Download ready-to-use ROOT installations for seamless integration with your Colab notebooks.">
    <meta name="keywords" content="ROOT CERN, Google Colab, Python, Data Analysis, High Energy Physics, Scientific Computing, ROOT Framework">
    <meta name="author" content="Mohamed Elashri">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://melashri.net/ROOT/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://melashri.net/ROOT/">
    <meta property="og:title" content="ROOT for Google Colab - Optimized Binaries">
    <meta property="og:description" content="Pre-built ROOT binaries optimized for Google Colab environments. Download ready-to-use ROOT installations for seamless integration with your Colab notebooks.">
        
    <title>ROOT for Google Colab</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <a href="https://github.com/MohamedElashri/ROOT" class="github-corner" aria-label="View source on GitHub">
        <svg width="80" height="80" viewBox="0 0 250 250" style="fill:var(--accent-color); color:var(--bg-primary); position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
            <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
            <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
            <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
        </svg>
    </a>
    <div class="container">
        <header>
            <h1><a href="." style="text-decoration: none; color: inherit;">ROOT for Google Colab</a></h1>
            <p class="subtitle">Pre-built ROOT binaries optimized for Google Colab environments</p>
            <a href="https://colab.research.google.com/drive/173ogdLQGCc8O9wIro_oUzS4SzjvgFztw?usp=sharing" class="try-colab-button" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="24" height="24" style="vertical-align: middle; margin-right: 8px;" baseProfile="basic">
                    <path fill="#ffb300" d="M33.5,10C26.044,10,20,16.044,20,23.5C20,30.956,26.044,37,33.5,37S47,30.956,47,23.5 C47,16.044,40.956,10,33.5,10z M33.5,30c-3.59,0-6.5-2.91-6.5-6.5s2.91-6.5,6.5-6.5s6.5,2.91,6.5,6.5S37.09,30,33.5,30z"/>
                    <path fill="#ffb300" d="M19.14,28.051l0-0.003C17.96,29.252,16.318,30,14.5,30C10.91,30,8,27.09,8,23.5s2.91-6.5,6.5-6.5 c1.83,0,3.481,0.759,4.662,1.976l3.75-6.024C20.604,11.109,17.683,10,14.5,10C7.044,10,1,16.044,1,23.5C1,30.956,7.044,37,14.5,37 c3.164,0,6.067-1.097,8.369-2.919L19.14,28.051z"/>
                    <path fill="#f57c00" d="M8,23.5c0-1.787,0.722-3.405,1.889-4.58l-4.855-5.038C2.546,16.33,1,19.733,1,23.5 c0,3.749,1.53,7.14,3.998,9.586l4.934-4.964C8.74,26.944,8,25.309,8,23.5z"/>
                    <path fill="#f57c00" d="M38.13,18.941C39.285,20.114,40,21.723,40,23.5c0,3.59-2.91,6.5-6.5,6.5 c-1.826,0-3.474-0.755-4.655-1.968l-4.999,4.895C26.298,35.437,29.714,37,33.5,37C40.956,37,47,30.956,47,23.5 c0-3.684-1.479-7.019-3.871-9.455L38.13,18.941z"/>
                </svg>
                Try Example Notebook
            </a>
        </header>

    <main>
        <section id="purpose">
            <h2>üìö What is that?</h2>
            <p>Setting up ROOT in Google Colab has traditionally been a time-consuming process that can take hours away from your valuable research time. This project eliminates these installation hurdles by providing ready-to-use, optimized ROOT binaries that work seamlessly with Colab's environment.</p>
            
            <p>Instead of wrestling with build configurations or waiting for lengthy compilations, you can now have ROOT up and running in your Colab notebook within seconds. The project pre-built binaries are automatically maintained to stay compatible with Colab's Python versions and include all commonly used features while maintaining optimal performance.</p>
        </section>

        <section id="available-builds">
            <h2>üîß Available Builds</h2>
            <div id="loading-builds" class="loading-indicator">
                <div class="spinner"></div>
                <p>Loading available builds from GitHub...</p>
            </div>
            <div id="version-grid" class="version-grid"></div>
            <div id="builds-error" class="error-message" style="display: none;">
                <p>Unable to load builds from GitHub. Please check the <a href="https://github.com/MohamedElashri/ROOT/releases" target="_blank">releases page</a> directly.</p>
            </div>
        </section>

        <section id="features">
            <h2>üõ† Build Features</h2>
            <div class="features-grid">
                <div class="feature-column">
                    <h3>Included Components</h3>
                    <ul class="feature-list included">
                        <li>‚úÖ Python bindings (PyROOT)</li>
                        <li>‚úÖ RooFit statistical analysis package</li>
                        <li>‚úÖ MathMore libraries</li>
                        <li>‚úÖ Multithreading support (IMT)</li>
                        <li>‚úÖ SSL and XML support</li>
                        <li>‚úÖ XRootD support (built-in)</li>
                        <li>‚úÖ ROOT 7 features</li>
                        <li>‚úÖ 3D Graphics (graf3d)</li>
                        <li>‚úÖ PYTHIA8 integration</li>
                        <li>‚úÖ Fortran support</li>
                        <li>‚úÖ Thread support</li>
                    </ul>
                </div>
                <div class="feature-column">
                    <h3>Excluded</h3>
                    <ul class="feature-list excluded">
                        <li>‚ùå OpenGL support</li>
                        <li>‚ùå Vector Detection Technology (VDT)</li>
                        <li>‚ùå SQLite support</li>
                        <li>‚ùå GDML support</li>
                        <li>‚ùå Davix</li>
                        <li>‚ùå FITS I/O</li>
                        <li>‚ùå Table support</li>
                        <li>‚ùå Testing modules</li>
                        <li>‚ùå Debug symbols</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="quick-start">
            <h2>üöÄ Detailed Usage Guide</h2>
            
            <!-- Version Selector -->
            <div class="version-selector">
                <h3>Select Your Configuration</h3>
                <p class="selector-description">Choose your ROOT and Python version combination. The code examples below will update automatically.</p>
                <div class="selector-controls">
                    <div class="selector-group">
                        <label for="root-version-select">ROOT Version:</label>
                        <select id="root-version-select" class="version-select">
                            <option value="">Loading...</option>
                        </select>
                    </div>
                    <div class="selector-group">
                        <label for="python-version-select">Python Version:</label>
                        <select id="python-version-select" class="version-select">
                            <option value="">Loading...</option>
                        </select>
                    </div>
                </div>
                <div id="selected-build-info" class="selected-build-info"></div>
            </div>

            <div class="code-blocks">
                <div class="code-block">
                    <h3>1. Initial Setup</h3>
                    <pre><code id="setup-code" class="language-python"># Loading configuration...</code></pre>
                </div>

                <div class="code-block">
                    <h3>2. Basic Data Analysis</h3>
                    <pre><code class="language-python"># Create and fill a histogram
import ROOT

# Create a 1D histogram
h1 = ROOT.TH1F("h1", "Gaussian Distribution;X;Entries", 100, -5, 5)

# Fill with random numbers
for i in range(10000):
    h1.Fill(ROOT.gRandom.Gaus(0, 1))

# Customize appearance
h1.SetLineColor(ROOT.kBlue)
h1.SetFillColor(ROOT.kBlue - 10)

# Draw and save
c1 = ROOT.TCanvas("c1", "Canvas", 800, 600)
h1.Draw("hist")
c1.Draw()</code></pre>
                </div>

                <div class="code-block">
                    <h3>3. Data Fitting</h3>
                    <pre><code class="language-python"># Create a more complex example with fitting
import ROOT
import numpy as np

# Create data with two peaks
h2 = ROOT.TH1F("h2", "Double Gaussian;X;Entries", 100, -10, 10)

# Fill with two Gaussians
for i in range(5000):
    h2.Fill(ROOT.gRandom.Gaus(-2, 1.5))
for i in range(3000):
    h2.Fill(ROOT.gRandom.Gaus(3, 0.8))

# Define fit function
fit_func = ROOT.TF1("fit_func", "gaus(0) + gaus(3)", -10, 10)
fit_func.SetParameters(2000, -2, 1.5, 1000, 3, 0.8)

# Perform fit
h2.Fit(fit_func, "R")

# Draw results
c2 = ROOT.TCanvas("c2", "Fit Canvas", 800, 600)
h2.Draw()
c2.Draw()</code></pre>
                </div>

                <div class="code-block">
                    <h3>4. Advanced Visualization</h3>
                    <pre><code class="language-python"># Create a 2D histogram
h3 = ROOT.TH2F("h3", "2D Gaussian;X;Y", 50, -5, 5, 50, -5, 5)

# Fill with correlated random numbers
for i in range(50000):
    x = ROOT.gRandom.Gaus(0, 1)
    y = ROOT.gRandom.Gaus(0.5 * x, 0.5)
    h3.Fill(x, y)

# Create canvas and draw
c3 = ROOT.TCanvas("c3", "2D Canvas", 800, 800)

# Set color scheme and draw options
ROOT.gStyle.SetPalette(ROOT.kBird)
h3.Draw("colz")

# Add color scale
c3.SetRightMargin(0.15)
c3.Draw()</code></pre>
                </div>
            </div>
        </section>

        <section id="known-issues">
            <h2>‚ö†Ô∏è Known Issues</h2>
            <div class="issues-list">
                <div class="issue">
                    <h3>SSL Certificate Issues</h3>
                    <p>If you encounter SSL certificate validation errors when using ROOT in Google Colab, this typically occurs due to missing or outdated SSL libraries. You can resolve this by installing the required SSL package:</p>
                    <pre><code class="language-python">!wget http://archive.ubuntu.com/ubuntu/pool/main/o/openssl/libssl1.1_1.1.1f-1ubuntu2_amd64.deb
!sudo dpkg -i libssl1.1_1.1.1f-1ubuntu2_amd64.deb
!rm libssl1.1_1.1.1f-1ubuntu2_amd64.deb</code></pre>
                </div>
                <div class="issue">
                    <h3>Other Common Issues</h3>
                    <ul>
                        <li>If ROOT fails to import after installation, try restarting your Colab runtime</li>
                        <li>If you need any of the excluded features, you will need to build ROOT with them</li>
                        <li>Building ROOT in the same Colab runtime will take most of the runtime allocation time</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <p>&copy; 2024 <a href="https://github.com/MohamedElashri/ROOT" target="_blank">Mohamed Elashri</a>. All rights reserved.</p>
        </div>
    </footer>

    <script>
    // ============================================
    // ROOT for Colab - Dynamic Release Manager
    // ============================================
    
    const GITHUB_REPO = 'MohamedElashri/ROOT';
    const GITHUB_API = `https://api.github.com/repos/${GITHUB_REPO}/releases`;
    
    // Global state
    let availableBuilds = [];
    let selectedRootVersion = null;
    let selectedPythonVersion = null;
    
    // Parse asset filename to extract version info
    // Handles formats like: root_v6.30.04_Ubuntu_Python3.11.zip, root_v6.28.04_Ubuntu_20.04.zip
    function parseAssetName(assetName, downloadUrl, tagName) {
        const patterns = [
            // Pattern: root_v6.30.04_Ubuntu_Python3.11.zip
            /root_v([\d.]+)_Ubuntu_Python([\d.]+)\.zip/i,
            // Pattern: root_v6.28.04_Ubuntu_20.04_python3.10.zip
            /root_v([\d.]+)_Ubuntu_[\d.]+_python([\d.]+)\.zip/i,
            // Pattern: root_v6.28.04_Ubuntu_20.04.zip (legacy, assume Python from tag or default)
            /root_v([\d.]+)_Ubuntu_([\d.]+)\.zip/i
        ];
        
        for (let i = 0; i < patterns.length; i++) {
            const match = assetName.match(patterns[i]);
            if (match) {
                let rootVersion = match[1];
                let pythonVersion = match[2];
                
                // For legacy format, try to extract Python from tag or use default
                if (i === 2) {
                    const tagPythonMatch = tagName.match(/python([\d.]+)/i);
                    if (tagPythonMatch) {
                        pythonVersion = tagPythonMatch[1];
                    } else {
                        pythonVersion = '3.10'; // Default for legacy builds
                    }
                }
                
                return {
                    rootVersion,
                    pythonVersion,
                    fileName: assetName,
                    downloadUrl,
                    tagName
                };
            }
        }
        return null;
    }
    
    // Fetch releases from GitHub API
    async function fetchReleases() {
        try {
            const response = await fetch(GITHUB_API);
            if (!response.ok) throw new Error('Failed to fetch releases');
            
            const releases = await response.json();
            const builds = [];
            
            for (const release of releases) {
                for (const asset of release.assets) {
                    if (asset.name.endsWith('.zip')) {
                        const parsed = parseAssetName(asset.name, asset.browser_download_url, release.tag_name);
                        if (parsed) {
                            builds.push(parsed);
                        }
                    }
                }
            }
            
            return builds;
        } catch (error) {
            console.error('Error fetching releases:', error);
            throw error;
        }
    }
    
    // Group builds by ROOT version
    function groupBuildsByRootVersion(builds) {
        const grouped = {};
        for (const build of builds) {
            if (!grouped[build.rootVersion]) {
                grouped[build.rootVersion] = [];
            }
            grouped[build.rootVersion].push(build);
        }
        
        // Sort ROOT versions (newest first)
        const sortedKeys = Object.keys(grouped).sort((a, b) => {
            const aParts = a.split('.').map(Number);
            const bParts = b.split('.').map(Number);
            for (let i = 0; i < Math.max(aParts.length, bParts.length); i++) {
                const diff = (bParts[i] || 0) - (aParts[i] || 0);
                if (diff !== 0) return diff;
            }
            return 0;
        });
        
        const sorted = {};
        for (const key of sortedKeys) {
            sorted[key] = grouped[key];
        }
        return sorted;
    }
    
    // Render version cards
    function renderVersionCards(groupedBuilds) {
        const container = document.getElementById('version-grid');
        container.innerHTML = '';
        
        for (const [rootVersion, builds] of Object.entries(groupedBuilds)) {
            const card = document.createElement('div');
            card.className = 'version-card';
            
            const title = document.createElement('h3');
            title.textContent = `ROOT ${rootVersion}`;
            card.appendChild(title);
            
            const list = document.createElement('ul');
            
            // Sort Python versions
            const sortedBuilds = builds.sort((a, b) => {
                const aVer = parseFloat(a.pythonVersion);
                const bVer = parseFloat(b.pythonVersion);
                return bVer - aVer;
            });
            
            for (const build of sortedBuilds) {
                const li = document.createElement('li');
                const link = document.createElement('a');
                link.href = build.downloadUrl;
                link.textContent = `Python ${build.pythonVersion}`;
                link.setAttribute('download', '');
                li.appendChild(link);
                list.appendChild(li);
            }
            
            card.appendChild(list);
            container.appendChild(card);
        }
    }
    
    // Populate version selectors
    function populateSelectors(builds) {
        const rootSelect = document.getElementById('root-version-select');
        const pythonSelect = document.getElementById('python-version-select');
        
        // Get unique versions
        const rootVersions = [...new Set(builds.map(b => b.rootVersion))].sort((a, b) => {
            const aParts = a.split('.').map(Number);
            const bParts = b.split('.').map(Number);
            for (let i = 0; i < Math.max(aParts.length, bParts.length); i++) {
                const diff = (bParts[i] || 0) - (aParts[i] || 0);
                if (diff !== 0) return diff;
            }
            return 0;
        });
        
        const pythonVersions = [...new Set(builds.map(b => b.pythonVersion))].sort((a, b) => {
            return parseFloat(b) - parseFloat(a);
        });
        
        // Populate ROOT selector
        rootSelect.innerHTML = '';
        for (const version of rootVersions) {
            const option = document.createElement('option');
            option.value = version;
            option.textContent = `ROOT ${version}`;
            rootSelect.appendChild(option);
        }
        
        // Populate Python selector
        pythonSelect.innerHTML = '';
        for (const version of pythonVersions) {
            const option = document.createElement('option');
            option.value = version;
            option.textContent = `Python ${version}`;
            pythonSelect.appendChild(option);
        }
        
        // Set initial selection
        if (rootVersions.length > 0) {
            selectedRootVersion = rootVersions[0];
            rootSelect.value = selectedRootVersion;
        }
        if (pythonVersions.length > 0) {
            selectedPythonVersion = pythonVersions[0];
            pythonSelect.value = selectedPythonVersion;
        }
        
        // Update available Python versions based on ROOT selection
        updatePythonOptions();
        updateCodeExamples();
    }
    
    // Update Python options based on selected ROOT version
    function updatePythonOptions() {
        const rootVersion = document.getElementById('root-version-select').value;
        const pythonSelect = document.getElementById('python-version-select');
        const currentPython = pythonSelect.value;
        
        // Get available Python versions for this ROOT version
        const availablePython = availableBuilds
            .filter(b => b.rootVersion === rootVersion)
            .map(b => b.pythonVersion);
        
        const uniquePython = [...new Set(availablePython)].sort((a, b) => parseFloat(b) - parseFloat(a));
        
        // Update options
        pythonSelect.innerHTML = '';
        for (const version of uniquePython) {
            const option = document.createElement('option');
            option.value = version;
            option.textContent = `Python ${version}`;
            pythonSelect.appendChild(option);
        }
        
        // Try to keep current selection, otherwise use first available
        if (uniquePython.includes(currentPython)) {
            pythonSelect.value = currentPython;
        } else if (uniquePython.length > 0) {
            pythonSelect.value = uniquePython[0];
        }
        
        selectedRootVersion = rootVersion;
        selectedPythonVersion = pythonSelect.value;
    }
    
    // Generate setup code based on selected versions
    function generateSetupCode(rootVersion, pythonVersion, downloadUrl, fileName) {
        return `# Check Python version and install ROOT
!python --version

# Step 1: Download the pre-built ROOT tarball from GitHub Releases
!wget -q --show-progress ${downloadUrl}

# Step 2: Extract the ROOT files
!unzip -q ${fileName}

# Step 3: Install missing system dependencies for ROOT
!sudo ldconfig & apt-get install -y git dpkg-dev cmake g++ gcc binutils libx11-dev libxpm-dev libxft-dev libxext-dev tar gfortran subversion libpython${pythonVersion}-dev

# Step 4: Remove the tarball to free up space
!rm -f ${fileName}

# Step 5: Install Compatible libssl
!wget http://archive.ubuntu.com/ubuntu/pool/main/o/openssl/libssl1.1_1.1.1f-1ubuntu2_amd64.deb
!sudo dpkg -i libssl1.1_1.1.1f-1ubuntu2_amd64.deb
!rm -f libssl1.1_1.1.1f-1ubuntu2_amd64.deb

# Step 6: Configure Python paths and load libraries
import sys
import ctypes

# Append ROOT paths to Python
sys.path.append("root_build/")
sys.path.append("root_build/bin/")
sys.path.append("root_build/include/")
sys.path.append("root_build/lib/")

# Load the required shared libraries (.so files)
ctypes.cdll.LoadLibrary("root_build/lib/libCore.so")
ctypes.cdll.LoadLibrary("root_build/lib/libThread.so")
ctypes.cdll.LoadLibrary("root_build/lib/libTreePlayer.so")

print("ROOT ${rootVersion} with Python ${pythonVersion} Loaded Successfully!")`;
    }
    
    // Update code examples based on selection
    function updateCodeExamples() {
        const rootVersion = document.getElementById('root-version-select').value;
        const pythonVersion = document.getElementById('python-version-select').value;
        
        // Find matching build
        const build = availableBuilds.find(b => 
            b.rootVersion === rootVersion && b.pythonVersion === pythonVersion
        );
        
        const setupCodeElement = document.getElementById('setup-code');
        const buildInfoElement = document.getElementById('selected-build-info');
        
        if (build) {
            const code = generateSetupCode(rootVersion, pythonVersion, build.downloadUrl, build.fileName);
            setupCodeElement.textContent = code;
            
            buildInfoElement.innerHTML = `
                <div class="build-info-content">
                    <span class="build-badge root-badge">ROOT ${rootVersion}</span>
                    <span class="build-badge python-badge">Python ${pythonVersion}</span>
                    <a href="${build.downloadUrl}" class="download-link" download>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="7 10 12 15 17 10"></polyline>
                            <line x1="12" y1="15" x2="12" y2="3"></line>
                        </svg>
                        Direct Download
                    </a>
                </div>
            `;
            buildInfoElement.style.display = 'block';
        } else {
            setupCodeElement.textContent = '# No build available for this combination.\n# Please select a different ROOT/Python version combination.';
            buildInfoElement.innerHTML = `
                <div class="build-info-content warning">
                    <span class="warning-icon">‚ö†Ô∏è</span>
                    <span>No build available for ROOT ${rootVersion} with Python ${pythonVersion}</span>
                </div>
            `;
            buildInfoElement.style.display = 'block';
        }
        
        // Re-apply syntax highlighting if Prism is available
        if (typeof Prism !== 'undefined') {
            Prism.highlightElement(setupCodeElement);
        }
        
        // Re-add copy button
        addCopyButtons();
    }
    
    // Copy to clipboard functionality
    function copyToClipboard(button, codeElement) {
        const code = codeElement.textContent;
        navigator.clipboard.writeText(code).then(() => {
            button.classList.add('copied');
            button.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg> Copied!`;
            setTimeout(() => {
                button.classList.remove('copied');
                button.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg> Copy`;
            }, 2000);
        });
    }
    
    // Add copy buttons to code blocks
    function addCopyButtons() {
        document.querySelectorAll('.code-block pre').forEach(pre => {
            // Remove existing copy button if present
            const existingButton = pre.parentNode.querySelector('.copy-button');
            if (existingButton) {
                existingButton.remove();
            }
            
            const button = document.createElement('button');
            button.className = 'copy-button';
            button.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg> Copy`;
            button.onclick = () => copyToClipboard(button, pre.querySelector('code'));
            pre.parentNode.insertBefore(button, pre);
        });
    }
    
    // Initialize the page
    async function init() {
        const loadingEl = document.getElementById('loading-builds');
        const errorEl = document.getElementById('builds-error');
        const gridEl = document.getElementById('version-grid');
        
        try {
            availableBuilds = await fetchReleases();
            
            if (availableBuilds.length === 0) {
                throw new Error('No builds found');
            }
            
            const groupedBuilds = groupBuildsByRootVersion(availableBuilds);
            
            // Hide loading, show grid
            loadingEl.style.display = 'none';
            gridEl.style.display = 'grid';
            
            // Render UI
            renderVersionCards(groupedBuilds);
            populateSelectors(availableBuilds);
            addCopyButtons();
            
            // Add event listeners
            document.getElementById('root-version-select').addEventListener('change', () => {
                updatePythonOptions();
                updateCodeExamples();
            });
            
            document.getElementById('python-version-select').addEventListener('change', () => {
                selectedPythonVersion = document.getElementById('python-version-select').value;
                updateCodeExamples();
            });
            
        } catch (error) {
            console.error('Initialization error:', error);
            loadingEl.style.display = 'none';
            errorEl.style.display = 'block';
        }
    }
    
    // Start when DOM is ready
    document.addEventListener('DOMContentLoaded', init);
    </script>

</body>
</html>